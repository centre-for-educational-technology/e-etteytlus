<!DOCTYPE html>
<html>
	<head>
		<title>E-etteütlus</title>
		<meta charset="UTF-8"> 	
		<link rel="stylesheet" href="general.css">
		<link rel="stylesheet" href="form.css">
		<link rel="stylesheet" href="conductor.css">
		<script src="util.js" charset="utf-8"></script>
		<script src="nav.js" charset="utf-8"></script>
		<script src="form.js" charset="utf-8"></script>
		<script src="table.js" charset="utf-8"></script>
		<script src="conductor.js" charset="utf-8"></script>
	</head>
	<body>	
		<!-- Text list -->
		<div class="container" data-nav="textList">
			<div id="textList" >
				<h1>Kontrolltekstid</h1>	
				<table data-table="textList" data-table-onRowClick="viewText">
					<tr>
						<th data-table-column="title">Pealkiri</th>
						<th data-table-column="authorName">Autor</th>
					</tr>
				</table>
			</div>
		</div>
		
		<!-- Text detail -->
		<div class="container" data-nav="textDetail">
			<div id="textDetail">
				<h1 id="textDetailTitle"></h1>
				<h3 id="textDetailAuthor"></h3>
				<h2 id="textDetailText"></h2>
				
				<form onsubmit="deleteText(event);">
					<input id="textDetailId" type="hidden" name="id">
					<button type="submit">Kustuta</button>
				</form>
				
			</div>
		</div>
		
		<!-- Msg: text delete -->
		<div class="container" data-nav="msgTextDeleted">
			<div >
				<h1>Kontrolltekst kustutatud</h1>		
			</div>
		</div>
		
		<!-- Test list -->
		<div class="container" data-nav="testList">
			<div id="testList" >
				<h1>Etteütlused</h1>
					<table data-table="testList" data-table-onRowClick="viewTest">
					<tr>
						<th data-table-column="code">Kood</th>
						<th data-table-column="conductorName">Juhendaja</th>
						<th data-table-column="textName">Tekst</th>
						<th data-table-column="status">Staatus</th>
						<th data-table-column="submissions">Vastused</th>
					</tr>
				</table>
			</div>
		</div>
		
		<!-- New text -->
		<div class="container" data-nav="newText1">
			<div id="newText" >
				<h1>Lisa uus kontrolltekst</h1>
				<form onsubmit="submitText(event);">
					<label for="ntxTitle">Pealkiri (ei kuvata vastajatele)</label>
					<input  type="text" id="ntxTitle" name="title" data-pattern=".{3,}" autocomplete="off" required>
					<label for="ntxText">Kontrolltekst</label>
					<textarea name="text" id="ntxText" data-pattern=".{3,}" rows="20" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required></textarea>	
					<button type="submit">Salvesta</button>
					<button type="reset">Tühista</button>
				</form>
			</div>
		</div>
		
		<!-- Msg: text add -->
		<div class="container" data-nav="msgTextAdded">
			<div >
				<h1>Kontrolltekst lisatud</h1>		
			</div>
		</div>
	
		<!-- New test -->
		<div class="container" data-nav="newTest">
			<div id="newTest" >
				<h1>Alusta uut etteütlust</h1>
				<form onsubmit="submitTest(event);" data-nav="step1">
					<label for="ntsTextName">Etteütluse tekst</label>
					<select id="ntsTextName" name="textId" autocomplete="off" required></select>
					<label for="ntsDuration">Lubatud aeg minutites</label>
					<input type="text" data-pattern="^(0|[1-9][0-9]*)$" name="duration" value="30" required>
					<button type="submit">Genereeri kood</button>
				</form>
			</div>		
		</div>
		
		<!-- Start test -->
		<div class="container" data-nav="startTest">
			<div id="startTest">
				<h1>E-etteütlus "<span id="startTestTextName"></span>"</h1>
				
				<ul>
					<li>Etteütluse kood on ekraani peal kuvatav neljakohaline number.</li>
					<li>Etteütluse sooritamiseks peab osavõtja sisestama koodi.</li>
					<li>Kood kehtib alates "Alusta"-nupul klikkamisest teie poolt määratud ajaperioodi (<span id="startTestDurationMin"></span> Min) lõpuni.</li>
					<li>Kirjutage kood suurelt tahvlile, edastage see osajalatele meilitsi või muul moel etteütluse alustamiseks.</li>		
				</ul>
				
				<h4 id="startTestCode"></h1>
				
				<form onreset="deleteTest(event);" onsubmit="startTest(event);">
					<input id="startTestId2" type="hidden" name="id">		
					<button type="submit">Alusta</button>
					<button type="reset">Tühista</button>
				</form>
				
			</div>
		</div>
		
		<!-- Conduct test -->
		<div class="container" data-nav="conductTest">
			<div id="conductTest">
				<h1>E-etteütlus "<span id="conductTestTextName"></span>" hetkel toimumas</h1>
				<h4 id="conductTestCountdown" data-countdown-end="0"></h4>
				
				<form onsubmit="stopTest(event);">
					<input id="conductTestId" type="hidden" name="id">
					<button type="submit">Lõpeta</button>
				</form>
			</div>
		</div>
		
		<!-- Msg: test delete -->
		<div class="container" data-nav="msgTestDeleted">
			<div >
				<h1>Etteütlus kustutatud</h1>		
			</div>
		</div>
		
		<!-- Msg: test ended -->
		<div class="container" data-nav="msgTestEnded">
			<div >
				<h1>Etteütlus lõppenud</h1>		
			</div>
		</div>
		
		<!-- Nav -->
		<div id="nav">		
			<label data-navFor="textList">Kontrolltekstid</label>
			<label data-navFor="testList">Etteütlused</label>	
			<label data-navFor="newText1">Uus Kontrolltekst</label>
			<label data-navFor="newTest">Uus Etteütlus</label>
		</div>

		<script type="text/javascript">navigate('testList');</script>
	</body>
</html>